# below one may find the arduous development of an idea that
# seemed half dedcent at first until I realized  far, far later
# than needed, that its entire development had been continuously
# approved by nothing but the very special case I was testing it on
# 
# moral of the story is that dyamic programming is never
# a good idea outside of leetcode

# ==== BEGIN SERIES OF UNFORTUNATE EVENTS ====

# Sol2 I can probably dp-ish it

# the reader should note that me devolving into pseudo literate
# programming here is not with the aim of documenting my though
# process
#
# it's more akin to "rambling as a tool of thought"

# methlab
# all possible couples
(âŠ‘â‹ˆ1âŠ¸â†“)Â¨ Â¯2âŠ¸â†“âˆ˜â†“ '0' -Ëœ "9876"

# all possible maximums
âŒˆÂ´ âŒˆÂ´Â¨ (Ã—âŸœ10âˆ˜âŠ£ + âŠ¢)Â´Â¨ (âŠ‘â‹ˆ1âŠ¸â†“)Â¨ Â¯2âŠ¸â†“âˆ˜â†“ '0' -Ëœ "9876"

# this for 2
Max2 â† {âŒˆÂ´ âŒˆÂ´Â¨ (Ã—âŸœ10âˆ˜âŠ£ + âŠ¢)Â´Â¨ (âŠ‘â‹ˆ1âŠ¸â†“)Â¨ Â¯2âŠ¸â†“âˆ˜â†“ '0' -Ëœ ğ•©}
Max2 "9876"
Max2 "1234"
Max2 "1111"

# let's try for 3
# we could start with all the candidates for 2 digits
# here they'd be 98â€¿87â€¿76
Max2Cand â† {âŒˆÂ´Â¨ (Ã—âŸœ10âˆ˜âŠ£ + âŠ¢)Â´Â¨ (âŠ‘â‹ˆ1âŠ¸â†“)Â¨ Â¯2âŠ¸â†“âˆ˜â†“ '0' -Ëœ ğ•©}
Max2Cand "9876"
# and all the shit we can add to them here it would be âŸ¨7â€¿6, 6âŸ©
# (we need to drop 76 to make lengths match)
((Â¯1âŠ¸â†“)âˆ˜Max2Cand â‹ˆÂ¨ {'0'-Ëœ 2â†“ Â¯1â†“ â†“ğ•©}) "9876"

# so going from Max2 to Max3 would be like

Max3 â† {
	 m2c â† (Â¯1âŠ¸â†“) Max2Cand ğ•©  # max2 candidates we can add shit to
	 ndc â† '0'-Ëœ 2â†“ Â¯1â†“ â†“ğ•©    # next digit candidates
	 âŒˆÂ´ âŒˆÂ´Â¨ (Ã—âŸœ10âˆ˜âŠ£ + âŠ¢)Â´Â¨ m2câ‹ˆÂ¨ndc
}

# the last few steps were all rather familiar
# so let's try generalizing it

# for every update (going from Max2 to Max3, from Max3 to Max4, ...)
# get the candidates from last iteration
# drop the last one because you can't add shit to the last one
# get all digit suffices you can add to each candidate
# some max max zip +Ã— bullshit between the two
# repeat

# so
# "base case"
# just our part 1 solution but spews more shit
MaxStart â† { ğ•Š str :
    ds	â†	ğ•© - '0'      # digits
	fs	â†	Â¯1â†“ds        # first-s
	ls	â†	1â†“ Â¯1âŠ¸â†“ â†“ ds # last-s (suffixes)

	(âŒˆâŒ¾âŠ‘)Â´Â¨  fs (Ã—âŸœ10âˆ˜âŠ£+âŠ¢) ls # candidates
	fsâ€¿ls
}

# "recursive case"
# what we illustrated above
MaxUpdate â† { pcğ•Šss: # previous candidates ğ•Š suffixes
    pc Â¯1âŠ¸â†“â†© # last candidate can't be augmented

	nc â†  âŒˆÂ´Â¨ pc (Ã—âŸœ10âˆ˜âŠ£+âŠ¢) ss
	ncâ€¿ss
}

# so
âŒˆÂ´âŠ‘ MaxStart "9876" # max for 2 elements
âŒˆÂ´âŠ‘ MaxUpdateÂ´ MaxStart "9876" # max for 3 elements
âŒˆÂ´âŠ‘ MaxUpdateÂ´ MaxUpdateÂ´ MaxStart "9876" # max for 4 elements

3 {âŒˆÂ´âŠ‘ MaxUpdateÂ´âŸ(ğ•¨-2) MaxStart ğ•©} "9876" # max for n elements

BankMax12 â† 12âŠ¸{âŒˆÂ´âŠ‘ MaxUpdateÂ´âŸ(ğ•¨-2) MaxStart ğ•©}


Sol2 â† {
	 banks â† â€¢FLines ğ•©
	 +Â´ BankMax12Â¨ banks
}

BankMax12Â¨ â€¢FLines "toyinput"


# ===== END SERIES OF UNFORTUNATE EVENTS =====
